[build]
builder = "DOCKERFILE"
# Dockerfile is in same directory as railway.toml (brainscraper/Dockerfile)
# Railway will auto-detect it when Root Directory = brainscraper
watchPatterns = ["**"]
# If new code (e.g. version badge) doesnâ€™t appear: set NO_CACHE=1 in service env and redeploy; see .railway-clear-cache

[deploy]
# Docker CMD handles startup (npm start)
startCommand = "npm start"
healthcheckPath = "/"
healthcheckTimeout = 180
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 5

[environments]
[environments.production]
NODE_ENV = "production"
NEXT_TELEMETRY_DISABLED = "1"
NO_CACHE = "1"