[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"
# Watch all files in chimera-core directory
watchPatterns = ["**"]

[deploy]
# Docker CMD handles startup (python main.py)
# Proto files are generated during Docker build
startCommand = "python main.py"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[env]
PYTHONUNBUFFERED = "1"
RAILWAY_ENVIRONMENT = "production"
CHIMERA_BRAIN_ADDRESS = "http://chimera-brain.railway.internal:50051"
# Optional: set to BrainScraper HTTP URL (e.g. https://brainscraper.xxx.railway.app or http://brainscraper.railway.internal:3000) to push telemetry to /api/v2-pilot/telemetry for Neural Sight and Stealth panels
BRAINSCRAPER_URL = ""

[environments]
[environments.production]
ENVIRONMENT = "production"
