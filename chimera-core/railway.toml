[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"
# Watch all files in chimera-core directory
watchPatterns = ["**"]

[deploy]
# Docker CMD handles startup (python main.py)
# Proto files are generated during Docker build
startCommand = "python main.py"
healthcheckTimeout = 300
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[env]
PYTHONUNBUFFERED = "1"
RAILWAY_ENVIRONMENT = "production"
CHIMERA_BRAIN_ADDRESS = "http://chimera-brain.railway.internal:50051"

[environments]
[environments.production]
ENVIRONMENT = "production"
